@model dynamic
@{
    Layout = null;
}

<form asp-action="Edit" method="post" data-val="true">
    <div class="validation-summary-errors text-danger"></div>
    <input type="hidden" name="UserId" value="@Model.UserId" />

    <div class="form-group">
        @foreach (var role in Model.AvailableRoles)
        {
            <div class="form-check">
                <input type="checkbox" 
                        class="form-check-input" 
                        name="selectedRoles" 
                        value="@role" 
                        @(Model.SelectedRoles.Contains(role) ? "checked" : "")>
                <label class="form-check-label">@role</label>
            </div>
        }
    </div>

    <div class="modal-footer">
        <button type="submit" class="btn btn-primary">Enregistrer</button>
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Annuler</button>
    </div>
</form>